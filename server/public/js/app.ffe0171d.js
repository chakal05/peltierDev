(function(e){function t(t){for(var a,s,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"173b":function(e,t,n){"use strict";var a=n("26ce"),r=n.n(a);r.a},1986:function(e,t,n){"use strict";var a=n("c6b1"),r=n.n(a);r.a},"26ce":function(e,t,n){},"2ae7":function(e,t,n){},"40ca":function(e,t,n){e.exports=n.p+"img/doctors.fa05d07e.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",[n("header"),n("router-view")],1)],1)},i=[],s={name:"App"},o=s,c=(n("5c0b"),n("2877")),l=n("6544"),d=n.n(l),u=n("7496"),m=Object(c["a"])(o,r,i,!1,null,null,null),p=m.exports;d()(m,{VApp:u["a"]});n("15f5");var f=n("f309");a["a"].use(f["a"]);var h=new f["a"]({icons:{iconfont:"fa"}}),v=(n("45fc"),n("8c4f")),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-app-bar",{attrs:{absolute:""}},[a("v-toolbar-title",[e._v("Manedek Medical Center")]),a("div",{staticClass:"logo"},[a("v-icon",{attrs:{color:"teal darken-4"}},[e._v("local_hospital")])],1),a("div",{staticClass:"flex-grow-1"}),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"white--text",attrs:{color:"teal darken-4"}},n),[e._v("Login")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"display-2 font-weight-thin"},[e._v("Login")]),a("v-card-text",{style:{paddingTop:"1rem"}},[a("v-form",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Email",color:"teal darken-4",autocomplete:"email","prepend-icon":"mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Password",color:"teal darken-4",type:e.showPass?"text":"password","append-icon":e.showPass?"mdi-eye":"mdi-eye-off","prepend-icon":"lock"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"12"}},[a("v-select",{attrs:{color:"teal darken-4",items:e.profils,label:"Profil","prepend-icon":"account_box"},model:{value:e.profil,callback:function(t){e.profil=t},expression:"profil"}})],1)],1)],1)],1),a("div",{staticClass:"text-center"},[e.error?a("p",{style:{color:"red"}},[e._v(e._s(e.error))]):e._e()]),a("v-card-actions",{style:{paddingBottom:"1rem"}},[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"white--text",style:{marginRight:"1rem",marginLeft:"1rem"},attrs:{color:"teal darken-4"},on:{click:e.save}},[e._v("Validate")]),e.wait?a("v-progress-circular",{style:{marginRight:"1rem"},attrs:{indeterminate:"",color:"teal darken-4"}}):e._e(),a("v-btn",{attrs:{color:"error"},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1)],1),a("div",[a("v-parallax",{attrs:{dark:"",src:n("40ca")}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("h1",{staticClass:"display-2 font-weight-bold mb-4 white--text"},[e._v(" Manedek Medical Center ")])])],1)],1)],1)},g=[],k=(n("a15b"),n("d81d"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("96cf"),n("1da1")),x=n("bc3a"),I=n.n(x),w={data:function(){return{dialog:!1,wait:!1,profils:["admin","doctor","nurse"],email:"",error:null,pass:"",profil:"",showPass:!1}},methods:{setHeaders:function(){localStorage.getItem("userToken")&&(I.a.defaults.headers.common["authorization"]=localStorage.getItem("userToken"))},parseJwt:function(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)},save:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.email&&e.pass&&e.profil)){t.next=5;break}return t.next=3,I.a.post("/login",{email:e.email,password:e.pass,profil:e.profil},e.wait=!0).then((function(t){if(t&&(e.wait=!1),200===t.status){var n=t.data.accesToken,a=e.parseJwt(n),r={accesToken:n,tokenUserName:a.name,tokenUserId:a._id,tokenUserProfil:a.profil};if(localStorage.setItem("userToken",JSON.stringify(r)),e.setHeaders(),"admin"===a.profil)return e.$router.push("/admin/adminDash");if("doctor"===a.profil)return e.$router.push("/doctor/docDash");if("nurse"===a.profil)return e.$router.push("/nurse/nurseDash")}})).catch((function(t){t&&(e.error="Something wrong with the credentials. Check again please.",e.wait=!1)}));case 3:t.next=6;break;case 5:return t.abrupt("return",e.error="All fields are required");case 6:case"end":return t.stop()}}),t)})))()}}},y=w,_=(n("1986"),n("40dc")),P=n("8336"),C=n("b0af"),T=n("99d9"),V=n("62ad"),O=n("a523"),R=n("169a"),S=n("4bd4"),D=n("132d"),j=n("8b9c"),A=n("490a"),L=n("0fd9"),M=n("b974"),N=n("8654"),B=n("2a7f"),E=Object(c["a"])(y,b,g,!1,null,"2acee867",null),$=E.exports;d()(E,{VAppBar:_["a"],VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VParallax:j["a"],VProgressCircular:A["a"],VRow:L["a"],VSelect:M["a"],VTextField:N["a"],VToolbarTitle:B["a"]});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("myView",{attrs:{SideNavInfo:e.items}})},U=[],q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-app",[n("v-navigation-drawer",{attrs:{color:"teal darken-4",dark:"",clipped:e.$vuetify.breakpoint.lgAndUp,app:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[n("v-btn",{attrs:{color:"white",light:"",block:""},on:{click:e.logOut}},[e._v("Logout")])],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("div",{staticClass:"logo-gris"},[n("v-app-bar-nav-icon",{staticClass:"bar",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"white--text"},[e._v(" Manedek "),n("v-icon",[e._v("local_hospital")])],1)],1),n("v-list",[e._l(e.SideNavInfo,(function(t,a){return[n("v-list-item",{key:a},[n("v-list-item-icon",[n("v-icon",[e._v(" "+e._s(t.icon)+" ")])],1),n("router-link",{attrs:{to:{path:t.link}}},[n("v-list-item-title",[e._v(" "+e._s(t.title)+" ")])],1)],1)]}))],2)],1),n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"mr-5 align-center"},[e._v(" Manedek Medical Center "),n("v-icon",{attrs:{color:"teal darken-4"}},[e._v("local_hospital")])],1),n("v-spacer"),n("v-badge",{attrs:{color:"teal darken-4"},scopedSlots:e._u([{key:"badge",fn:function(){return[n("span",[e._v(" "+e._s(e.newMessages)+" ")])]},proxy:!0}])},[n("router-link",{attrs:{to:"/admin/messages"}},[n("v-icon",[e._v("mdi-email")])],1)],1),n("v-col",{staticClass:"mt-7",attrs:{cols:"12",sm:"4",md:"1"}},[n("div",{staticClass:"text-center"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{text:""}},a),[e._v(" "+e._s(e.userName)+" ")])]}}])},[n("v-list",e._l(e.overflow,(function(t,a){return n("v-list-item",{key:a,on:{click:e.logOut}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1)],1)])],1),n("v-content",[n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-flex",[n("router-view")],1)],1)],1)],1)],1)],1)},J=[],H=n("5530"),z=n("2f62"),Y={props:{SideNavInfo:Array},data:function(){return{drawer:null,show:!0,userName:JSON.parse(localStorage.getItem("userToken")).tokenUserName,overflow:[{title:"Log out"}]}},computed:Object(H["a"])({},Object(z["c"])(["newMessages"])),created:function(){},methods:Object(H["a"])(Object(H["a"])({},Object(z["d"])(["logOut","stopTimer"])),Object(z["b"])(["getUnread","notifyMessages"])),beforeDestroy:function(){this.stopTimer()}},G=Y,W=(n("964e"),n("5bc1")),K=n("4ca6"),Q=n("a75b"),X=n("0e8f"),Z=n("a722"),ee=n("8860"),te=n("da13"),ne=n("34c3"),ae=n("5d23"),re=n("e449"),ie=n("f774"),se=n("2fa4"),oe=Object(c["a"])(G,q,J,!1,null,"4d18d045",null),ce=oe.exports;d()(oe,{VApp:u["a"],VAppBar:_["a"],VAppBarNavIcon:W["a"],VBadge:K["a"],VBtn:P["a"],VCol:V["a"],VContainer:O["a"],VContent:Q["a"],VFlex:X["a"],VIcon:D["a"],VLayout:Z["a"],VList:ee["a"],VListItem:te["a"],VListItemIcon:ne["a"],VListItemTitle:ae["c"],VMenu:re["a"],VNavigationDrawer:ie["a"],VSpacer:se["a"],VToolbarTitle:B["a"]});var le={name:"admin",components:{myView:ce},data:function(){return{items:[{icon:"dashboard",title:"Dashboard",link:"/admin/adminDash"},{icon:"fas fa-user-md",title:"Doctors",link:"/admin/adminDoc"},{icon:"fas fa-plus-square",title:"Nurses",link:"/admin/adminNurse"},{icon:"schedule",title:"Bookings",link:"/admin/bookings"},{icon:"fas fa-user",title:"Patients",link:"/admin/patientList"},{icon:"fas fa-bed",title:"Bed allotment",link:"/admin/bedAllotment"},{icon:"account_box",title:"Profil",link:"/admin/profil"},{icon:"fas fa-book",title:"Rapport",link:"/admin/rapport"}]}}},de=le,ue=Object(c["a"])(de,F,U,!1,null,null,null),me=ue.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dashboard",{attrs:{pageLinks:e.items}})},fe=[],he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-item-group",[n("v-container",[n("v-row",{attrs:{align:"center",justify:"center"}},[e._l(e.pageLinks,(function(t,a){return[n("v-col",{key:a,attrs:{cols:"12",md:"3"}},[n("v-item",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.active,i=a.toggle;return[n("router-link",{attrs:{to:{path:t.link}}},[n("v-card",{staticClass:"d-flex align-center",attrs:{color:r?"grey darken-4":"",height:"200"},on:{click:i}},[r?e._e():n("v-card-text",{staticClass:"display-3 flex-grow-1 text-center"},[n("v-icon",[e._v(" "+e._s(t.icon)+" ")]),n("h3",{staticClass:"display-2 font-weight-thin"},[e._v(" "+e._s(t.title)+" ")])],1)],1)],1)]}}],null,!0)})],1)]}))],2)],1)],1)},ve=[],be={props:{pageLinks:Array}},ge=be,ke=(n("173b"),n("d903")),xe=n("604c"),Ie=Object(c["a"])(ge,he,ve,!1,null,"330bc2a0",null),we=Ie.exports;d()(Ie,{VCard:C["a"],VCardText:T["b"],VCol:V["a"],VContainer:O["a"],VIcon:D["a"],VItem:ke["a"],VItemGroup:xe["b"],VRow:L["a"]});var ye={name:"adminDash",components:{Dashboard:we},data:function(){return{items:[{icon:"fas fa-user-md",title:"Doctors",link:"/admin/adminDoc"},{icon:"fas fa-calendar-alt",title:"Bookings",link:"/admin/bookings"},{icon:"fas fa-user",title:"Patients",link:"/admin/patientList"},{icon:"fas fa-plus-square",title:"Nurses",link:"/admin/adminNurse"},{icon:"fas fa-book",title:"Rapport",link:"/admin/rapport"},{icon:"fas fa-bed",title:"Beds",link:"/admin/bedAllotment"},{icon:"account_box",title:"Profil",link:"/admin/profil"}]}}},_e=ye,Pe=Object(c["a"])(_e,pe,fe,!1,null,null,null),Ce=Pe.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("myView",{attrs:{SideNavInfo:e.items}})},Ve=[],Oe={name:"doctor",components:{myView:ce},data:function(){return{items:[{icon:"dashboard",title:"Dashboard",link:"/doctor/docDash"},{icon:"schedule",title:"Bookings",link:"/doctor/bookings"},{icon:"fas fa-user",title:"Patients",link:"/doctor/patientList"},{icon:"fas fa-bed",title:"Bed allotment",link:"/doctor/bedAllotment"},{icon:"account_box",title:"Profil",link:"/doctor/profil"},{icon:"fas fa-book",title:"Rapport",link:"/doctor/rapport"},{icon:"fas fa-stethoscope",title:"Medication",link:"/doctor/prescription"}]}}},Re=Oe,Se=Object(c["a"])(Re,Te,Ve,!1,null,null,null),De=Se.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Doctors list")])]),n("br"),n("Table",{attrs:{tableHeaders:e.headers,theList:e.getPersonelList,searchInput:e.search,formContent:e.dialogContent,editItem:e.editItem,deleteItem:e.deleteItem,edit:e.edit,successMessage:e.successMessage,errorMessage:e.errorMessage,birth:e.birth,formTitle:e.formTitle,close:e.close,dialog:e.dialog,save:e.save,date:e.date,menu:e.menu}})],1)},Ae=[],Le=(n("c975"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.tableHeaders,items:e.tableContent,search:e.searchInput,"sort-by":"name","items-per-page":e.fifteen},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"teal darken-4",dark:""}},a),[e._v("Add doctor")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-form",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[e._l(e.formContent,(function(t,a){return[n("v-col",{key:a,attrs:{cols:"12",md:"4",sm:"6"}},["Password"===t.label?n("v-text-field",{attrs:{label:t.label,color:"teal darken-4","prepend-icon":t.icon,"append-icon":e.showPass?"visibility":"visibility_off",type:e.showPass?"text":"password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"item.title"}}):"Birthdate"===t.label?n("v-menu",{ref:"menu",refInFor:!0,attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on;return[n("v-text-field",e._g({attrs:{label:t.label,"prepend-icon":t.icon,readonly:"",color:"teal darken-4"},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"item.title"}},r))]}}],null,!0),model:{value:e.getMenu,callback:function(t){e.getMenu=t},expression:"getMenu"}},[n("v-date-picker",{ref:"picker",refInFor:!0,attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01",color:"teal darken-4"},on:{change:e.setBirth},model:{value:e.getDate,callback:function(t){e.getDate=t},expression:"getDate"}})],1):n("v-text-field",{attrs:{label:t.label,rules:t.rules,color:"teal darken-4","prepend-icon":t.icon},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"item.title"}})],1)]}))],2)],1),n("div",{staticClass:"text-center"},[n("p",{style:{color:"green"}},[e._v(e._s(e.successMessage))]),n("p",{style:{color:"red"}},[e._v(e._s(e.errorMessage))])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.cancel}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.toEdit(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.toDelete(a)}}},[e._v("delete")])]}},{key:"no-data",fn:function(){},proxy:!0}])})}),Me=[],Ne={data:function(){return{fifteen:15,showPass:!1}},props:{tableHeaders:Array,searchInput:String,theList:Array,edit:Function,add:Function,editItem:Function,deleteItem:Function,successMessage:String,errorMessage:String,formContent:Array,birth:Function,formTitle:String,close:Function,dialog:Boolean,save:Function,date:String,menu:Boolean},computed:{tableContent:{get:function(){return this.theList},set:function(e){return e}},getDate:{get:function(){return this.date},set:function(e){return e}},getMenu:{get:function(){return this.menu},set:function(e){return e}}},watch:{},methods:{setBirth:function(e){this.birth(e)},cancel:function(){this.close()},toEdit:function(e){this.dialog=!0,this.editItem(e)},toDelete:function(e){this.deleteItem(e)}}},Be=Ne,Ee=n("8fea"),$e=n("2e4b"),Fe=n("71d9"),Ue=Object(c["a"])(Be,Le,Me,!1,null,null,null),qe=Ue.exports;d()(Ue,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDataTable:Ee["a"],VDatePicker:$e["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VMenu:re["a"],VRow:L["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"]});var Je={components:{Table:qe},data:function(){return{theList:[],dialog:!1,fifteen:15,search:"",date:null,menu:!1,indexToDel:null,successMessage:null,errorMessage:null,headers:[{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Departement",value:"departement"},{text:"Telephone",value:"telephone"},{text:"Email",value:"email"},{text:"Adresse",value:"adresse"},{text:"City",value:"city"},{text:"Birthdate",value:"birthdate"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{name:"",departement:"",telephone:"",adresse:"",city:"",email:"",birthdate:"",password:""},defaultItem:{name:"",departement:"",telephone:"",adresse:"",city:"",email:"",birthdate:"",password:""},showPass:!1,password:"Password",rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=3||"Min 3 characters"},emailMatch:function(){return"The email and password you entered don't match"}}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},getPersonelList:{get:function(){return this.theList},set:function(e){return e}},dialogContent:function(){return[{title:this.editedItem.name,label:"Name",icon:"account_box",rules:[function(e){return!!e||"Le nom est requis"},function(e){return isNaN(e)||"Names should not contain numbers"}]},{title:this.editedItem.departement,label:"Departement",icon:"fas fa-vote-yea"},{title:this.editedItem.telephone,label:"Telephone",icon:"phone",rules:[function(e){return!!e||"A phone number is required "},function(e){return e&&e.length<=8||"Phone number should contain 8 numbers max"},function(e){return!isNaN(e)||"The phone number should only contain numeric values"}]},{title:this.editedItem.adresse,label:"Adresse",icon:"place"},{title:this.editedItem.email,label:"Email",icon:"mail",rules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}]},{title:this.editedItem.birthdate,label:"Birthdate",icon:"event"},{title:this.editedItem.password,label:"Password",icon:"lock"}]}},watch:{dialog:function(e){e||this.close()},menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},created:function(){this.loadPersonel("doctor")},methods:{loadPersonel:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,I.a.get("/personel",{params:{profil:e}}).then((function(e){200===e.status&&(t.theList=e.data)})).catch((function(e){t.ifError=e}));case 2:case"end":return n.stop()}}),n)})))()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},editItem:function(e){this.editedIndex=this.getPersonelList.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.getPersonelList.indexOf(e),t.indexToDel=t.getPersonelList[a],confirm("Are you sure you want to delete this item?")&&t.getPersonelList.splice(a,1),n.next=5,I.a.delete("/personel",{data:{id:t.indexToDel._id}}).then((function(e){!e||e.status})).catch((function(e){t.errorMessage=e}));case 5:case"end":return n.stop()}}),n)})))()},save:function(){this.editedIndex>-1?this.edit():this.add()},birth:function(e){if(this.$refs.menu.save(e),e)return this.editedItem.birthdate=e},add:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedItem.name&&e.editedItem.departement&&e.editedItem.telephone&&e.editedItem.password&&e.editedItem.adresse&&e.editedItem.city&&e.editedItem.birthdate&&e.editedItem.email)){t.next=5;break}return t.next=3,I.a.post("/personel",{adresse:e.editedItem.adresse,city:e.editedItem.city,birthdate:e.editedItem.birthdate,name:e.editedItem.name,email:e.editedItem.email,departement:e.editedItem.departement,telephone:e.editedItem.telephone,password:e.editedItem.password,profil:"doctor"}).then((function(t){200===t.status&&(e.successMessage="Added a new doctor",setTimeout((function(){e.loadPersonel("doctor"),e.successMessage=null,e.close()}),3e3))})).catch((function(t){e.errorMessage=t}));case 3:t.next=8;break;case 5:e.errorMessage="All fields must be filled",setTimeout((function(){e.errorMessage=null}),3e3),e.dialog=!0;case 8:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/personel",{adresse:e.editedItem.adresse,city:e.editedItem.city,birthdate:e.editedItem.birthdate,name:e.editedItem.name,email:e.editedItem.email,departement:e.editedItem.departement,telephone:e.editedItem.telephone,password:e.editedItem.password,profil:"doctor",id:e.editedItem._id}).then((function(t){200===t.status&&(e.successMessage="Edited one item",setTimeout((function(){e.loadPersonel("doctor"),e.successMessage=null,e.close()}),3e3))})).catch((function(t){e.errorMessage=t,setTimeout((function(){e.loadPersonel("doctor"),e.errorMessage=null,e.close()}),3e3)}));case 2:case"end":return t.stop()}}),t)})))()}}},He=Je,ze=Object(c["a"])(He,je,Ae,!1,null,null,null),Ye=ze.exports;d()(ze,{VContainer:O["a"]});var Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("myView",{attrs:{SideNavInfo:e.items}})},We=[],Ke={name:"nurse",components:{myView:ce},data:function(){return{items:[{icon:"dashboard",title:"Dashboard",link:"/nurse/nurseDash"},{icon:"schedule",title:"Bookings",link:"/nurse/bookings"},{icon:"fas fa-user",title:"Patients",link:"/nurse/patientList"},{icon:"fas fa-bed",title:"Bed allotment",link:"/nurse/bedAllotment"},{icon:"account_box",title:"Profil",link:"/nurse/profil"},{icon:"fas fa-book",title:"Rapport",link:"/nurse/rapport"}]}}},Qe=Ke,Xe=Object(c["a"])(Qe,Ge,We,!1,null,null,null),Ze=Xe.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Nurses list")])]),n("br"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.getPersonelList,search:e.search,"sort-by":"name","items-per-page":e.fifteen},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"teal darken-4",dark:""}},a),[e._v("Add nurse")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-form",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{rules:e.nameRules,label:"Name",color:"teal darken-4","prepend-icon":"account_box"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{color:"teal darken-4",label:"Departement","prepend-icon":"fas fa-vote-yea"},model:{value:e.editedItem.departement,callback:function(t){e.$set(e.editedItem,"departement",t)},expression:"editedItem.departement"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{rules:e.telephoneRules,color:"teal darken-4",label:"Telephone","prepend-icon":"phone"},model:{value:e.editedItem.telephone,callback:function(t){e.$set(e.editedItem,"telephone",t)},expression:"editedItem.telephone"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Adresse",color:"teal darken-4","prepend-icon":"place"},model:{value:e.editedItem.adresse,callback:function(t){e.$set(e.editedItem,"adresse",t)},expression:"editedItem.adresse"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{"prepend-icon":"home",label:"City",color:"teal darken-4"},model:{value:e.editedItem.city,callback:function(t){e.$set(e.editedItem,"city",t)},expression:"editedItem.city"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{rules:e.emailRules,label:"Email",color:"teal darken-4","prepend-icon":"mail"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Birthday date","prepend-icon":"event",readonly:"",color:"teal darken-4"},model:{value:e.editedItem.birthdate,callback:function(t){e.$set(e.editedItem,"birthdate",t)},expression:"editedItem.birthdate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01",color:"teal darken-4"},on:{change:e.birth},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{"prepend-icon":"lock","append-icon":e.showPass?"visibility":"visibility_off",rules:[e.rules.required,e.rules.min],type:e.showPass?"text":"password",name:"input-10-1",label:"Password",hint:"At least x characters",counter:"",color:"teal darken-4"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})],1)],1)],1),n("div",{staticClass:"text-center"},[n("p",{style:{color:"green"}},[e._v(e._s(e.successMessage))]),n("p",{style:{color:"red"}},[e._v(e._s(e.errorMessage))])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("delete")])]}},{key:"no-data",fn:function(){},proxy:!0}])})],1)},tt=[],nt={data:function(){return{theList:[],dialog:!1,fifteen:15,search:"",indexToDel:null,date:null,menu:!1,successMessage:null,errorMessage:null,headers:[{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Departement",value:"departement"},{text:"Telephone",value:"telephone"},{text:"Email",value:"email"},{text:"Adresse",value:"adresse"},{text:"City",value:"city"},{text:"Birthdate",value:"birthdate"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{name:"",departement:"",telephone:"",adresse:"",city:"",email:"",birthdate:"",password:""},defaultItem:{name:"",departement:"",telephone:"",adresse:"",city:"",email:"",birthdate:"",password:""},showPass:!1,password:"Password",rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=3||"Min 3 characters"},emailMatch:function(){return"The email and password you entered don't match"}},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],nameRules:[function(e){return!!e||"Le nom est requis"},function(e){return isNaN(e)||"Names should not contain numbers"}],telephoneRules:[function(e){return!!e||"A phone number is required "},function(e){return e&&e.length<=8||"Phone number should contain 8 numbers max"},function(e){return!isNaN(e)||"The phone number should only contain numeric values"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},getPersonelList:{get:function(){return this.theList},set:function(e){return e}}},watch:{dialog:function(e){e||this.close()},menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},created:function(){this.loadPersonel("nurse")},methods:{loadPersonel:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,I.a.get("/personel",{params:{profil:e}}).then((function(e){200===e.status&&(t.theList=e.data)})).catch((function(e){t.ifError=e}));case 2:case"end":return n.stop()}}),n)})))()},editItem:function(e){this.editedIndex=this.getPersonelList.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.getPersonelList.indexOf(e);this.indexToDel=this.getPersonelList[t],confirm("Are you sure you want to delete this item?")&&this.getPersonelList.splice(t,1),this.supprDoc()},birth:function(e){if(this.$refs.menu.save(e),e)return this.editedItem.birthdate=e},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){this.editedIndex>-1?this.edit():this.add()},add:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedItem.name&&e.editedItem.departement&&e.editedItem.telephone&&e.editedItem.password&&e.editedItem.adresse&&e.editedItem.city&&e.editedItem.birthdate&&e.editedItem.email)){t.next=5;break}return t.next=3,I.a.post("/personel",{adresse:e.editedItem.adresse,city:e.editedItem.city,birthdate:e.editedItem.birthdate,name:e.editedItem.name,email:e.editedItem.email,departement:e.editedItem.departement,telephone:e.editedItem.telephone,password:e.editedItem.password,profil:"nurse"}).then((function(t){200===t.status&&(e.successMessage="Added a new nurse",setTimeout((function(){e.loadPersonel("nurse"),e.successMessage=null,e.close()}),3e3))})).catch((function(t){e.errorMessage=t}));case 3:t.next=8;break;case 5:e.errorMessage="All fields must be filled",setTimeout((function(){e.errorMessage=null}),3e3),e.dialog=!0;case 8:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/personel",{adresse:e.editedItem.adresse,city:e.editedItem.city,birthdate:e.editedItem.birthdate,name:e.editedItem.name,email:e.editedItem.email,departement:e.editedItem.departement,telephone:e.editedItem.telephone,password:e.editedItem.password,profil:"nurse",id:e.editedItem._id}).then((function(t){200===t.status&&(e.successMessage="Edited one item",setTimeout((function(){e.loadPersonel("nurse"),e.successMessage=null,e.close()}),3e3))})).catch((function(t){e.errorMessage=t,setTimeout((function(){e.loadPersonel("nurse"),e.errorMessage=null,e.close()}),3e3)}));case 2:case"end":return t.stop()}}),t)})))()},supprDoc:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("/personel",{data:{id:e.indexToDel._id}}).then((function(e){!e||e.status})).catch((function(t){e.errorMessage=t}));case 2:case"end":return t.stop()}}),t)})))()}}},at=nt,rt=Object(c["a"])(at,et,tt,!1,null,null,null),it=rt.exports;d()(rt,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDataTable:Ee["a"],VDatePicker:$e["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VMenu:re["a"],VRow:L["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"]});var st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[e.chat?n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Messages")]):e._e()]),n("v-row",{attrs:{"no-gutters":""}},[e.sideBar?n("v-col",{staticClass:"column",class:{show:e.chat},attrs:{cols:"12",md:"3"}},[n("v-card",{attrs:{height:"700"}},[n("v-toolbar",{attrs:{color:"teal darken-4",dark:""}},[n("v-toolbar-title",[n("v-btn",{attrs:{color:"teal darken-4"},on:{click:e.inbox}},[e._v("Inbox")])],1),n("v-spacer"),n("v-toolbar-title",{staticClass:"newMessage"},[n("v-btn",{attrs:{color:"teal darken-4"},on:{click:e.getContacts}},[e._v("Contacts")])],1)],1),e.contact?e._e():n("v-list",{attrs:{"two-line":""}},[e.noMess?n("div",{staticClass:"noMess text-center"},[n("h2",{staticClass:"teal--text"},[e._v("You do not have new messages")])]):e._e(),e.noMess?e._e():n("v-list-item-group",{attrs:{"active-class":"teal--text"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._l(e.items,(function(t,a){return[n("v-list-item",{key:t._id,style:["no"===t.userToRead?{fontWeight:"bold",background:"rgb(229, 227, 227)"}:""]},[n("v-list-item-content",{on:{click:function(n){return e.messageDetails(t._id)}}},[n("v-list-item-title",{domProps:{textContent:e._s(t.senderName)}}),n("br"),n("v-list-item-subtitle",{domProps:{textContent:e._s(t.time)}})],1)],1),a+1<e.items.length?n("v-divider",{key:a}):e._e()]}))],2)],1),e.contact?n("v-list",[n("v-list-item-group",{attrs:{"active-class":"teal--text"}},[e._l(e.personel,(function(t,a){return[n("v-list-item",{key:t._id,scopedSlots:e._u([{key:"default",fn:function(a){return[n("v-list-item-content",{on:{click:function(n){return e.newMess(t._id)}}},[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1)]}}],null,!0)}),n("v-divider",{key:a})]}))],2)],1):e._e(),n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:2,color:"teal darken-4"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)],1):e._e(),n("v-col",{staticClass:"main"},[e.chat?e._e():n("v-card",{staticClass:"callToAction",attrs:{align:"center",justify:"center",height:"700"}},[n("v-card-text",{staticClass:"display-2 font-weight-thin mb-4"},[n("v-icon",{attrs:{color:"teal darken-4"}},[e._v("mail")])],1)],1),e.chat?n("v-card",{staticClass:"chat_box",attrs:{height:"700"}},[n("v-toolbar",[n("v-icon",{staticClass:"goBack",attrs:{color:"black"},on:{click:e.goBack}},[e._v("arrow_back")]),n("v-spacer"),n("v-toolbar-title",[e._v("Message")])],1),e._l(e.receivedMessages,(function(t){return n("v-list-item",{key:t._id,attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title mb-1"},[e._v("From: "+e._s(t.senderName||"me"))]),n("div",{staticClass:"subtitle-1 black--text"},[e._v(" To: "+e._s(t.name||"me")+" ")]),n("v-divider"),n("v-list-item-subtitle",{staticClass:"my-12"},[e._v(" "+e._s(t.message)+" ")]),n("br"),n("v-list-item",[n("p",{staticClass:"subtitle-2 black--text"},[e._v(e._s(t.time))])])],1),e.del?n("v-list-item-action",[n("v-icon",{staticClass:"white--text",attrs:{color:"red darken-4"},on:{click:function(n){return e.deleteMess(t._id)}}},[e._v("delete")])],1):e._e()],1)})),e.success?n("v-alert",{attrs:{type:"success"}},[e._v("Message "+e._s(e.messageStatus)+".")]):e._e(),n("div",{staticClass:"reponse"},[n("v-textarea",{staticClass:"mx-2",attrs:{outlined:"",name:"input-7-4",label:"Enter your message","auto-grow":"",color:"teal darken-4",rows:"2"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("v-btn",{staticClass:"btnSend",attrs:{text:""},on:{click:e.save}},[n("v-icon",{attrs:{color:"teal darken-4"}},[e._v("send")])],1)],1)],2):e._e()],1)],1)],1)},ot=[],ct=(n("99af"),{data:function(){return{sideBar:!0,selected:[],personel:[],user_to:null,message:null,contact:!1,chat:!1,del:!1,page:1,receivedMessages:[],items:[],success:!1,noMess:!1,messageStatus:"sent"}},computed:{},watch:{dialog:function(e){e||this.close()}},created:function(){this.loadMessages()},methods:{loadMessages:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/messages",{params:{id:JSON.parse(localStorage.getItem("userToken")).tokenUserId,data:"messages"}}).then((function(t){t.data[0]?(e.items=t.data.reverse(),e.noMess=!1):e.noMess=!0})).catch((function(e){throw e}));case 2:case"end":return t.stop()}}),t)})))()},inbox:function(){this.chat=!1,this.contact=!1,this.loadMessages()},messageDetails:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,I.a.get("/messages/:id",{params:{id:e}}).then((function(n){t.receivedMessages=n.data,t.user_to=n.data[0].userFrom,t.chat=!0,t.del=!0,t.updtateMessage(e),t.loadMessages()})).catch();case 2:case"end":return n.stop()}}),n)})))()},updtateMessage:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/messages/:id",{id:e}).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},getContacts:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/personel",{params:{id:JSON.parse(localStorage.getItem("userToken")).tokenUserId,data:"personel"}}).then((function(t){e.chat=!1,e.noMess=!1,e.contact=!0,e.receivedMessages=[],e.personel=t.data})).catch((function(e){throw e}));case 2:case"end":return t.stop()}}),t)})))()},newMess:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,I.a.get("/personel",{params:{id:e,data:"receiver"}}).then((function(e){200===e.status&&(t.receivedMessages=e.data,t.user_to=e.data[0]._id,t.chat=!0,t.del=!1)})).catch((function(e){throw e}));case 2:case"end":return n.stop()}}),n)})))()},deleteMess:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,I.a.delete("/messages/",{data:{id:e}}).then((function(e){200===e.status&&(t.success=!0,t.messageStatus="deleted",setTimeout((function(){t.success=!1,t.chat=!1,t.loadMessages()}),3e3))})).catch((function(e){throw e}));case 2:case"end":return n.stop()}}),n)})))()},save:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(new Date).toISOString().substring(0,10),a=(new Date).getHours(),r=a<10?"0"+a:a,i=(new Date).getMinutes(),s=i<10?"0"+i:i,o="".concat(n," at ").concat(r,":").concat(s),t.next=8,I.a.post("/messages",{name:JSON.parse(localStorage.getItem("userToken")).tokenUserName,to:e.user_to,from:JSON.parse(localStorage.getItem("userToken")).tokenUserId,time:o,message:e.message,user_to_read:"no"}).then(function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:200===n.status&&(e.message=null,e.success=!0,setTimeout((function(){e.success=!1,e.chat=!1}),3e3));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){throw e}));case 8:case"end":return t.stop()}}),t)})))()},goBack:function(){this.chat=!1,this.sideBar=!0}}}),lt=ct,dt=(n("c77c"),n("0798")),ut=n("ce7e"),mt=n("1800"),pt=n("1baa"),ft=n("891e"),ht=n("a844"),vt=Object(c["a"])(lt,st,ot,!1,null,null,null),bt=vt.exports;d()(vt,{VAlert:dt["a"],VBtn:P["a"],VCard:C["a"],VCardText:T["b"],VCol:V["a"],VContainer:O["a"],VDivider:ut["a"],VIcon:D["a"],VList:ee["a"],VListItem:te["a"],VListItemAction:mt["a"],VListItemContent:ae["a"],VListItemGroup:pt["a"],VListItemSubtitle:ae["b"],VListItemTitle:ae["c"],VPagination:ft["a"],VRow:L["a"],VSpacer:se["a"],VTextarea:ht["a"],VToolbar:Fe["a"],VToolbarTitle:B["a"]});var gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.showCalendar?n("div",{staticClass:"calendarView"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[n("div",{staticClass:"text-center"},[n("h1",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Bookings")])]),n("v-date-picker",{staticClass:"mt-4",attrs:{color:"teal darken-4","full-width":"",landscape:e.$vuetify.breakpoint.smAndUp},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}}),n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[n("v-btn",{staticClass:"white--text mr-4",attrs:{color:"teal darken-4"},on:{click:e.load}},[e._v("SEARCH")])],1)],1)],1)],1):e._e(),e.showTable?n("div",{staticClass:"table"},[n("div",{staticClass:"text-center titre"},[n("h1",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Consultations")])]),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.getAppointments,search:e.search,"sort-by":["rank"],"items-per-page":e.fifteen},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"teal darken-4",dark:""},on:{click:e.editItem}},a),[e._v("Add new")])]}}],null,!1,4102579359),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-form",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Name",color:"teal darken-4",rules:e.nameRules,"prepend-icon":"account_box"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-select",{attrs:{color:"teal darken-4",items:e.genre,label:"Gender","prepend-icon":"fas fa-venus-mars"},model:{value:e.editedItem.sexe,callback:function(t){e.$set(e.editedItem,"sexe",t)},expression:"editedItem.sexe"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{counter:8,label:"Telephone",color:"teal darken-4",rules:e.telephoneRules,"prepend-icon":"phone"},model:{value:e.editedItem.telephone,callback:function(t){e.$set(e.editedItem,"telephone",t)},expression:"editedItem.telephone"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-select",{attrs:{items:e.dispoHours,label:"Time",color:"teal darken-4","prepend-icon":"fas fa-bell"},model:{value:e.editedItem.hour,callback:function(t){e.$set(e.editedItem,"hour",t)},expression:"editedItem.hour"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{readonly:"",label:"Day",required:""},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-select",{attrs:{items:e.getDoctorList,label:"Doctor",color:"teal darken-4","prepend-icon":"fa fa-user-md"},model:{value:e.editedItem.doctor,callback:function(t){e.$set(e.editedItem,"doctor",t)},expression:"editedItem.doctor"}})],1)],1)],1)],1),n("div",{staticClass:"text-center"},[n("p",{style:{color:"green"}},[e._v(e._s(e.success))]),n("p",{style:{color:"red"}},[e._v(e._s(e.error))])]),n("v-card-actions",[n("div",{staticClass:"flex-grow-1"}),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("delete")])]}},{key:"no-data",fn:function(){return[n("h2",[e._v("0 appointment found")])]},proxy:!0}],null,!1,1641505581)}),n("v-col",{staticClass:"text-center boutonBox",attrs:{cols:"12"}},[n("v-btn",{staticClass:"white--text mr-4",attrs:{color:"teal darken-4"},on:{click:e.backToCalendar}},[e._v("Previous")])],1)],1):e._e()])},kt=[],xt=(n("4de4"),n("caad"),n("2532"),{data:function(){return{dialog:!1,picker:(new Date).toISOString().substr(0,10),menu:!1,showTable:!1,showCalendar:!0,error:null,success:null,search:"",zero:!1,fifteen:15,rank:null,indexToDel:null,genre:["Man","Woman"],getAppointments:[],dispoHours:[],headers:[{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Gender",value:"sexe"},{text:"Telephone",value:"telephone"},{text:"Time",value:"hour"},{text:"Doctor",value:"doctor"},{text:"Added by",value:"addedBy"},{text:"Actions",value:"action",sortable:!1}],nameRules:[function(e){return!!e||"Le nom est requis"},function(e){return isNaN(e)||"Names should not contain numbers"}],telephoneRules:[function(e){return!!e||"A phone number is required "},function(e){return e&&e.length>=8||"Phone number should contain 8 numbers min"},function(e){return!isNaN(e)||"The phone number should only contain numeric values"}],editedIndex:-1,editedItem:{name:"",sexe:"",hour:"",telephone:"",doctor:"",addedBy:""},defaultItem:{name:"",sexe:"",hour:"",telephone:"",doctor:"",addedBy:""}}},computed:Object(H["a"])(Object(H["a"])({formTitle:function(){return-1===this.editedIndex?"New item":"Edit item"}},Object(z["c"])({theList:"getDoctorList"})),{},{getDoctorList:{get:function(){return this.theList},set:function(e){return e}}}),watch:{dialog:function(e){e||this.close()}},methods:Object(H["a"])(Object(H["a"])({editItem:function(e){this.editedIndex=this.getAppointments.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,this.loadHours(this.picker),this.docList()},deleteItem:function(e){var t=this.getAppointments.indexOf(e);this.indexToDel=this.getAppointments[t],confirm("Are you sure you want to delete this item?")&&this.getAppointments.splice(t,1),this.SupprItem()},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){this.editedIndex>-1?this.changeItem():this.add()},load:function(){this.showCalendar=!1,this.loadBookings(this.picker),this.showTable=!0},add:function(){this.editedItem.name&&this.editedItem.telephone&&this.editedItem.sexe&&this.editedItem.hour&&this.picker&&this.editedItem.doctor?new Date(this.picker).getDate()===(new Date).getDate()||new Date(this.picker).getTime()>(new Date).getTime()?5===new Date(this.picker).getDay()||6===new Date(this.picker).getDay()?(alert("Weekends reserved for emergency"),this.close()):"Fully booked"===this.editedItem.hour?alert("We are fully booked for this day, please choose another day"):this.register():(alert("Choosen time is past"),this.close()):alert("All fields must be filled")},loadHours:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=["08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","16:30","17:00","17:30","18:00"],n.next=3,I.a.get("/reservations",{params:{date:[e,"hours"]}}).then((function(e){if(0===e.data.length)t.dispoHours=a;else{var n=a.filter((function(t){return!e.data.includes(t)})).concat(e.data.filter((function(e){return!a.includes(e)})));n[0]?t.dispoHours=n:t.dispoHours.push("Fully booked")}})).catch((function(e){t.error=e}));case 3:case"end":return n.stop()}}),n)})))()},register:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editedItem.hour&&e.setRank(e.editItem.hour),t.next=3,I.a.post("/reservations",{name:e.editedItem.name,telephone:e.editedItem.telephone,sexe:e.editedItem.sexe,date:e.picker,time:e.editedItem.hour,doctor:e.editedItem.doctor,rank:e.rank,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status&&(e.success="New appointment saved",setTimeout((function(){e.success=null,e.loadBookings(e.picker),e.close()}),3e3))})).catch((function(){e.error="There was an error"}));case 3:case"end":return t.stop()}}),t)})))()},changeItem:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editedItem.hour&&e.setRank(e.editedItem.hour),t.next=3,I.a.put("/reservations",{id:e.editedItem._id,name:e.editedItem.name,telephone:e.editedItem.telephone,sexe:e.editedItem.sexe,date:e.picker,time:e.editedItem.hour,doctor:e.editedItem.doctor,rank:e.rank,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status&&(Object.assign(e.editedItem),e.success="An item was edited",setTimeout((function(){e.loadBookings(e.picker),e.success=null,e.close()}),3e3))})).catch((function(){e.error="There was an error with the editing of the item"}));case 3:case"end":return t.stop()}}),t)})))()},SupprItem:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:I.a.delete("/reservations",{data:{id:e.indexToDel._id}}).catch((function(){e.error="Item could not been deleted"}));case 1:case"end":return t.stop()}}),t)})))()},loadBookings:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,I.a.get("/reservations",{params:{date:e}}).then((function(e){t.getAppointments=e.data})).catch((function(e){t.error=e}));case 2:case"end":return n.stop()}}),n)})))()},setRank:function(){var e=["08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","16:30","17:00","17:30","18:00"];this.rank=e.indexOf(this.editedItem.hour)},backToCalendar:function(){this.showCalendar=!0,this.showTable=!1}},Object(z["b"])(["docList"])),Object(z["d"])(["difference"]))}),It=xt,wt=(n("f7b4"),Object(c["a"])(It,gt,kt,!1,null,"a86a92dc",null)),yt=wt.exports;d()(wt,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDataTable:Ee["a"],VDatePicker:$e["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VRow:L["a"],VSelect:M["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"]});var _t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Patients list")])]),n("br"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.getPatientsList,search:e.search,"sort-by":"name","items-per-page":e.fifteen},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"teal darken-4",dark:""},on:{click:e.editItem}},a),[e._v("Add patient")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-form",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{color:"teal darken-4",rules:e.nameRules,label:"Name","prepend-icon":"account_box"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{rules:e.telephoneRules,label:"Telephone",color:"teal darken-4","prepend-icon":"phone"},model:{value:e.editedItem.telephone,callback:function(t){e.$set(e.editedItem,"telephone",t)},expression:"editedItem.telephone"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{color:"teal darken-4",label:"Adresse","prepend-icon":"place"},model:{value:e.editedItem.adresse,callback:function(t){e.$set(e.editedItem,"adresse",t)},expression:"editedItem.adresse"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{"prepend-icon":"home",color:"teal darken-4",label:"City"},model:{value:e.editedItem.city,callback:function(t){e.$set(e.editedItem,"city",t)},expression:"editedItem.city"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{color:"teal darken-4",rules:e.emailRules,label:"Email","prepend-icon":"mail"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Birthday date","prepend-icon":"event",readonly:"",color:"teal darken-4"},model:{value:e.editedItem.birthdate,callback:function(t){e.$set(e.editedItem,"birthdate",t)},expression:"editedItem.birthdate"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{ref:"picker",attrs:{color:"teal darken-4",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.birth},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-select",{attrs:{items:e.getDoctorList,label:"Doctor",color:"teal darken-4","prepend-icon":"fa fa-user-md"},model:{value:e.editedItem.doctor,callback:function(t){e.$set(e.editedItem,"doctor",t)},expression:"editedItem.doctor"}})],1)],1)],1)],1),n("div",{staticClass:"text-center"},[n("p",{style:{color:"green"}},[e._v(e._s(e.success))]),n("p",{style:{color:"red"}},[e._v(e._s(e.error))])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("delete")])]}},{key:"no-data",fn:function(){},proxy:!0}])})],1)},Pt=[],Ct={data:function(){return{dialog:!1,fifteen:15,success:null,error:null,search:"",indexToDel:null,date:null,menu:!1,headers:[{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Telephone",value:"telephone"},{text:"Email",value:"email"},{text:"Adresse",value:"adresse"},{text:"City",value:"city"},{text:"Birthdate",value:"birthdate"},{text:"Doctor",value:"doctor"},{text:"added by",value:"addedBy"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{name:"",departement:"",telephone:"",adresse:"",city:"",email:"",birthdate:"",doctor:""},defaultItem:{name:"",departement:"",telephone:"",adresse:"",city:"",email:"",birthdate:"",doctor:""},rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=3||"Min 3 characters"},emailMatch:function(){return"The email and password you entered don't match"}},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],nameRules:[function(e){return!!e||"Le nom est requis"},function(e){return isNaN(e)||"Names should not contain numbers"}],telephoneRules:[function(e){return!!e||"A phone number is required "},function(e){return e&&e.length<=8||"Phone number should contain 8 numbers max"},function(e){return!isNaN(e)||"The phone number should only contain numeric values"}]}},computed:Object(H["a"])(Object(H["a"])({formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},Object(z["c"])({theList:"getDoctorList",patients:"getPatientsList"})),{},{getDoctorList:{get:function(){return this.theList},set:function(e){return e}},getPatientsList:{get:function(){return this.patients},set:function(e){return e}}}),watch:{dialog:function(e){e||this.close()},menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},created:function(){this.initialize(),this.loadPatients()},methods:Object(H["a"])({initialize:function(){this.getPatientsList=[]},editItem:function(e){this.docList(),this.editedIndex=this.getPatientsList.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.getPatientsList.indexOf(e);this.indexToDel=this.getPatientsList[t],confirm("Are you sure you want to delete this item?")&&this.supprPatient()},birth:function(e){this.$refs.menu.save(e),e&&(this.editedItem.birthdate=e)},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){this.editedIndex>-1?this.edit():this.add()},add:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedItem.name&&e.editedItem.telephone&&e.editedItem.adresse&&e.editedItem.city&&e.editedItem.birthdate&&e.editedItem.email)){t.next=3;break}return t.next=3,I.a.post("/patient",{name:e.editedItem.name,telephone:e.editedItem.telephone,email:e.editedItem.email,adresse:e.editedItem.adresse,city:e.editedItem.city,birthdate:e.editedItem.birthdate,doctor:e.editedItem.doctor,profil:"patient",addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status?(e.error=null,e.success="Added a new patient",setTimeout((function(){e.loadPatients(),e.success=null,e.close()}),3e3)):(e.error="All fields must be filled",e.dialog=!0)})).catch((function(){e.error="There was a problem"}));case 3:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/patient",{id:e.editedItem._id,name:e.editedItem.name,telephone:e.editedItem.telephone,email:e.editedItem.email,adresse:e.editedItem.adresse,city:e.editedItem.city,birthdate:e.editedItem.birthdate,doctor:e.editedItem.doctor,profil:"patient",addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status&&(e.error=null,e.success="Edited one item",setTimeout((function(){e.loadPatients(),e.success=null,e.close()}),3e3))})).catch((function(){e.error="There was a problem"}));case 2:case"end":return t.stop()}}),t)})))()},supprPatient:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("/patient",{data:e.indexToDel}).then((function(t){t&&200===t.status&&e.loadPatients()})).catch((function(){e.error=!0}));case 2:case"end":return t.stop()}}),t)})))()}},Object(z["b"])(["docList","loadPatients"]))},Tt=Ct,Vt=Object(c["a"])(Tt,_t,Pt,!1,null,null,null),Ot=Vt.exports;d()(Vt,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDataTable:Ee["a"],VDatePicker:$e["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VMenu:re["a"],VRow:L["a"],VSelect:M["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"]});var Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dashboard",{attrs:{pageLinks:e.items}})},St=[],Dt={name:"adminDash",components:{Dashboard:we},data:function(){return{items:[{icon:"fas fa-calendar-alt",title:"Bookings",link:"/nurse/bookings"},{icon:"fas fa-user",title:"Patients",link:"/nurse/patientList"},{icon:"fas fa-book",title:"Rapport",link:"/nurse/rapport"},{icon:"fas fa-bed",title:"Beds",link:"/nurse/bedAllotment"},{icon:"account_box",title:"Profil",link:"/nurse/profil"}]}}},jt=Dt,At=Object(c["a"])(jt,Rt,St,!1,null,null,null),Lt=At.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dashboard",{attrs:{pageLinks:e.items}})},Nt=[],Bt={name:"adminDash",components:{Dashboard:we},data:function(){return{items:[{icon:"fas fa-stethoscope",title:"Medication",link:"/doctor/prescription"},{icon:"fas fa-calendar-alt",title:"Bookings",link:"/doctor/bookings"},{icon:"fas fa-user",title:"Patients",link:"/doctor/patientList"},{icon:"fas fa-book",title:"Rapport",link:"/doctor/rapport"},{icon:"fas fa-bed",title:"Beds",link:"/doctor/bedAllotment"},{icon:"account_box",title:"Profil",link:"/doctor/profil"}]}},methods:{}},Et=Bt,$t=Object(c["a"])(Et,Mt,Nt,!1,null,null,null),Ft=$t.exports,Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Bed allotment")])]),n("br"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.getBookedBeds,search:e.search,"sort-by":"name","items-per-page":e.fifteen},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"teal darken-4",dark:""},on:{click:e.editItem}},a),[e._v("Add bed allotment")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-form",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-select",{attrs:{items:e.bedsList,label:"Bed number",color:"teal darken-4","prepend-icon":"hotel"},model:{value:e.editedItem.bedNumber,callback:function(t){e.$set(e.editedItem,"bedNumber",t)},expression:"editedItem.bedNumber"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-select",{attrs:{items:e.getPatientsList,label:"Patients",color:"teal darken-4","prepend-icon":"fa fa-user-injured"},model:{value:e.editedItem.patient,callback:function(t){e.$set(e.editedItem,"patient",t)},expression:"editedItem.patient"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","return-value":e.date,"offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Allotment date","prepend-icon":"event",readonly:"",color:"teal darken-4"},model:{value:e.editedItem.dateIn,callback:function(t){e.$set(e.editedItem,"dateIn",t)},expression:"editedItem.dateIn"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{ref:"picker",attrs:{color:"teal darken-4",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.dayIn},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":e.datum,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.datum=t},"update:return-value":function(t){e.datum=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Discharge date","prepend-icon":"event",readonly:"",color:"teal darken-4"},model:{value:e.editedItem.dateOut,callback:function(t){e.$set(e.editedItem,"dateOut",t)},expression:"editedItem.dateOut"}},a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[n("v-date-picker",{ref:"picker2",attrs:{color:"teal darken-4",max:"2026-01-01",min:(new Date).toISOString().substr(0,10)},on:{change:e.dayOut},model:{value:e.datum,callback:function(t){e.datum=t},expression:"datum"}})],1)],1)],1)],1)],1)],1),n("div",{staticClass:"text-center"},[n("p",{style:{color:"green"}},[e._v(e._s(e.success))]),n("p",{style:{color:"red"}},[e._v(e._s(e.error))])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("delete")])]}},{key:"no-data",fn:function(){},proxy:!0}])})],1)},qt=[],Jt={data:function(){return{dialog:!1,fifteen:15,success:null,error:null,search:"",indexToDel:null,date:(new Date).toISOString().substr(0,10),datum:(new Date).toISOString().substr(0,10),menu:!1,menu2:!1,bedsList:[],headers:[{text:"Bed number",align:"left",sortable:!1,value:"bedNumber"},{text:"Patient",value:"patient"},{text:"Allotment Date ",value:"dateIn"},{text:"Discharge Date",value:"dateOut"},{text:"Added by",value:"addedBy"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{number:"",patient:"",dateIn:"",dateOut:"",addedBy:""},defaultItem:{number:"",patient:"",dateIn:"",dateOut:"",addedBy:""},show1:!1,getBookedBeds:[]}},computed:Object(H["a"])(Object(H["a"])({formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},Object(z["c"])({patients:"getPatientsList"})),{},{getPatientsList:{get:function(){return this.patients},set:function(e){return e}}}),watch:{dialog:function(e){e||this.close()},menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))},menu2:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker2.activePicker="YEAR"}))}},created:function(){this.loadBedAllotment(),this.initialize()},methods:Object(H["a"])({initialize:function(){this.getBookedBeds=[]},editItem:function(e){this.loadPatients("names"),this.availableBeds(),this.editedIndex=this.getBookedBeds.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.getBookedBeds.indexOf(e);this.indexToDel=this.getBookedBeds[t],confirm("Are you sure you want to delete this item?")&&this.suppr()},dayIn:function(e){this.$refs.menu.save(e),e&&(this.editedItem.dateIn=e)},dayOut:function(e){this.$refs.menu2.save(e),e&&(this.editedItem.dateOut=e)},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){this.editedIndex>-1?this.edit():this.add()},loadBedAllotment:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/bedAll").then((function(t){t&&200===t.status&&(e.getBookedBeds=t.data)}));case 2:case"end":return t.stop()}}),t)})))()},add:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedItem.bedNumber&&e.editedItem.patient&&e.editedItem.dateIn&&e.editedItem.dateOut)){t.next=3;break}return t.next=3,I.a.post("/bedAll",{bedNumber:e.editedItem.bedNumber,patient:e.editedItem.patient,dateIn:e.editedItem.dateIn,dateOut:e.editedItem.dateOut,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status?(e.error=null,e.success="Added a new bedAllotment",setTimeout((function(){e.loadBedAllotment(),e.success=null,e.close()}),3e3)):(e.error="All fields must be filled",e.dialog=!0)})).catch((function(){e.error="There was a problem"}));case 3:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/bedAll",{id:e.editedItem._id,bedNumber:e.editedItem.bedNumber,patient:e.editedItem.patient,dateIn:e.editedItem.dateIn,dateOut:e.editedItem.dateOut,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status&&(e.error=null,e.success="Edited one item",setTimeout((function(){e.loadBedAllotment(),e.success=null,e.close()}),3e3))})).catch((function(){e.error="There was a problem"}));case 2:case"end":return t.stop()}}),t)})))()},suppr:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("/bedAll",{data:e.indexToDel}).then((function(t){t&&200===t.status&&e.loadBedAllotment()})).catch((function(){e.error=!0}));case 2:case"end":return t.stop()}}),t)})))()},availableBeds:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],t.next=3,I.a.get("/bedAll",{params:{data:"beds"}}).then((function(t){if(0===t.data.length)e.bedsList=n;else{var a=n.filter((function(e){return!t.data.includes(e)})).concat(t.data.filter((function(e){return!n.includes(e)})));a[0]?e.bedsList=a:e.bedsList.push("No available beds")}}));case 3:case"end":return t.stop()}}),t)})))()}},Object(z["b"])(["loadPatients"]))},Ht=Jt,zt=Object(c["a"])(Ht,Ut,qt,!1,null,null,null),Yt=zt.exports;d()(zt,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDataTable:Ee["a"],VDatePicker:$e["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VMenu:re["a"],VRow:L["a"],VSelect:M["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"]});var Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Rapport")])]),n("br"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.getRapports,search:e.search,"sort-by":"name","items-per-page":e.fifteen},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"teal darken-4",dark:""},on:{click:e.editItem}},a),[e._v("Add rapport")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-form",[n("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[n("v-text-field",{attrs:{color:"teal darken-4",label:"Description","prepend-icon":"description"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Date","prepend-icon":"event",readonly:"",color:"teal darken-4"},model:{value:e.editedItem.day,callback:function(t){e.$set(e.editedItem,"day",t)},expression:"editedItem.day"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{ref:"picker",attrs:{color:"teal darken-4",max:(new Date).toISOString().substr(0,10)},on:{change:e.birth},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-select",{attrs:{items:e.getPatientsList,label:"Patient",color:"teal darken-4","prepend-icon":"fa fa-user-injured"},model:{value:e.editedItem.patient,callback:function(t){e.$set(e.editedItem,"patient",t)},expression:"editedItem.patient"}})],1)],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[n("v-select",{attrs:{items:e.getDoctorList,label:"Doctor",color:"teal darken-4","prepend-icon":"fa fa-user-md"},model:{value:e.editedItem.doctor,callback:function(t){e.$set(e.editedItem,"doctor",t)},expression:"editedItem.doctor"}})],1)],1)],1)],1),n("div",{staticClass:"text-center"},[n("p",{style:{color:"green"}},[e._v(e._s(e.success))]),n("p",{style:{color:"red"}},[e._v(e._s(e.error))])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("delete")])]}},{key:"no-data",fn:function(){},proxy:!0}])})],1)},Wt=[],Kt=(n("a4d3"),n("e01a"),{data:function(){return{dialog:!1,fifteen:15,success:null,error:null,search:"",indexToDel:null,date:null,menu:!1,headers:[{text:"Description",align:"left",sortable:!1,value:"description"},{text:"Patient",value:"patient"},{text:"Doctor",value:"doctor"},{text:"Date",value:"day"},{text:"Added by",value:"addedBy"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{description:"",patient:"",doctor:"",day:"",addedBy:""},defaultItem:{description:"",patient:"",doctor:"",day:"",addedBy:""},show1:!1,getRapports:[]}},computed:Object(H["a"])(Object(H["a"])({formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},Object(z["c"])({theList:"getDoctorList",patients:"getPatientsList"})),{},{getDoctorList:{get:function(){return this.theList},set:function(e){return e}},getPatientsList:{get:function(){return this.patients},set:function(e){return e}}}),watch:{dialog:function(e){e||this.close()},menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},created:function(){this.initialize(),this.loadRapports()},methods:Object(H["a"])({initialize:function(){this.getRapports=[]},editItem:function(e){this.docList(),this.loadPatients("names"),this.editedIndex=this.getRapports.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.getRapports.indexOf(e);this.indexToDel=this.getRapports[t],confirm("Are you sure you want to delete this item?")&&this.supprRapport()},birth:function(e){this.$refs.menu.save(e),e&&(this.editedItem.day=e)},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){this.editedIndex>-1?this.edit():this.add()},loadRapports:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/rapport").then((function(t){t&&200===t.status&&(e.getRapports=t.data)})).catch();case 2:case"end":return t.stop()}}),t)})))()},add:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedItem.description&&e.editedItem.patient&&e.editedItem.doctor&&e.editedItem.day)){t.next=3;break}return t.next=3,I.a.post("/rapport",{description:e.editedItem.description,patient:e.editedItem.patient,doctor:e.editedItem.doctor,day:e.editedItem.day,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status?(e.error=null,e.success="Added a new rapport",setTimeout((function(){e.loadRapports(),e.success=null,e.close()}),3e3)):(e.error="All fields must be filled",e.dialog=!0)})).catch((function(){e.error="There was a problem"}));case 3:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/rapport",{id:e.editedItem._id,description:e.editedItem.description,patient:e.editedItem.patient,doctor:e.editedItem.doctor,day:e.editedItem.day,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status&&(e.error=null,e.success="Edited one item",setTimeout((function(){e.loadRapports(),e.success=null,e.close()}),3e3))})).catch((function(){e.error="There was a problem"}));case 2:case"end":return t.stop()}}),t)})))()},supprRapport:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("/rapport",{data:e.indexToDel}).then((function(t){t&&200===t.status&&e.loadRapports()})).catch((function(){e.error=!0}));case 2:case"end":return t.stop()}}),t)})))()}},Object(z["b"])(["docList","loadPatients"]))}),Qt=Kt,Xt=Object(c["a"])(Qt,Gt,Wt,!1,null,null,null),Zt=Xt.exports;d()(Xt,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDataTable:Ee["a"],VDatePicker:$e["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VMenu:re["a"],VRow:L["a"],VSelect:M["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"]});var en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Medication")])]),n("br"),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.getPrescriptions,search:e.search,"sort-by":"name","items-per-page":e.fifteen},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mb-2",attrs:{color:"teal darken-4",dark:""},on:{click:e.editItem}},a),[e._v("Add medication")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-form",[n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-text-field",{attrs:{color:"teal darken-4",label:"Description","prepend-icon":"description"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-text-field",{attrs:{label:"Medication",color:"teal darken-4","prepend-icon":"fas fa-capsules"},model:{value:e.editedItem.medication,callback:function(t){e.$set(e.editedItem,"medication",t)},expression:"editedItem.medication"}})],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-select",{attrs:{items:e.getPatientsList,label:"Patient",color:"teal darken-4","prepend-icon":"fa fa-user-injured"},model:{value:e.editedItem.patient,callback:function(t){e.$set(e.editedItem,"patient",t)},expression:"editedItem.patient"}})],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Date","prepend-icon":"event",readonly:"",color:"teal darken-4"},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{ref:"picker",attrs:{color:"teal darken-4",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.birth},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],1)],1),n("div",{staticClass:"text-center"},[n("p",{style:{color:"green"}},[e._v(e._s(e.success))]),n("p",{style:{color:"red"}},[e._v(e._s(e.error))])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"teal darken-4",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("delete")])]}},{key:"no-data",fn:function(){},proxy:!0}])})],1)},tn=[],nn={data:function(){return{dialog:!1,fifteen:15,success:null,error:null,search:"",indexToDel:null,date:null,menu:!1,headers:[{text:"Patient",align:"left",sortable:!1,value:"patient"},{text:"Description",value:"description"},{text:"Medication",value:"medication"},{text:"Date",value:"date"},{text:"Added by",value:"addedBy"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{patient:"",description:"",medication:"",date:"",addedBy:""},defaultItem:{patient:"",description:"",medication:"",date:"",addedBy:""},getPrescriptions:[]}},computed:Object(H["a"])(Object(H["a"])({formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},Object(z["c"])({patients:"getPatientsList"})),{},{getPatientsList:{get:function(){return this.patients},set:function(e){return e}}}),watch:{dialog:function(e){e||this.close()},menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},created:function(){this.initialize(),this.loadPrescriptions()},methods:Object(H["a"])({initialize:function(){this.getPrescriptions=[]},editItem:function(e){this.loadPatients("names"),this.editedIndex=this.getPrescriptions.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.getPrescriptions.indexOf(e);this.indexToDel=this.getPrescriptions[t],confirm("Are you sure you want to delete this item?")&&this.supprRapport()},birth:function(e){this.$refs.menu.save(e),e&&(this.editedItem.date=e)},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){this.editedIndex>-1?this.edit():this.add()},loadPrescriptions:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/prescription").then((function(t){t&&200===t.status&&(e.getPrescriptions=t.data)})).catch();case 2:case"end":return t.stop()}}),t)})))()},add:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.editedItem.description&&e.editedItem.patient&&e.editedItem.medication&&e.editedItem.date)){t.next=3;break}return t.next=3,I.a.post("/prescription",{description:e.editedItem.description,patient:e.editedItem.patient,medication:e.editedItem.medication,date:e.editedItem.date,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status?(e.error=null,e.success="Added a new prescription",setTimeout((function(){e.loadPrescriptions(),e.success=null,e.close()}),3e3)):(e.error="All fields must be filled",e.dialog=!0)})).catch((function(){e.error="There was a problem"}));case 3:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("/prescription",{id:e.editedItem._id,description:e.editedItem.description,patient:e.editedItem.patient,medication:e.editedItem.medication,date:e.editedItem.date,addedBy:JSON.parse(localStorage.getItem("userToken")).tokenUserName}).then((function(t){t&&200===t.status&&(e.error=null,e.success="Edited one prescription",setTimeout((function(){e.loadPrescriptions(),e.success=null,e.close()}),3e3))})).catch((function(){e.error="There was a problem"}));case 2:case"end":return t.stop()}}),t)})))()},supprRapport:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("/prescription",{data:e.indexToDel}).then((function(t){t&&200===t.status&&e.loadPrescriptions()})).catch((function(){e.error=!0}));case 2:case"end":return t.stop()}}),t)})))()}},Object(z["b"])(["loadPatients"]))},an=nn,rn=Object(c["a"])(an,en,tn,!1,null,null,null),sn=rn.exports;d()(rn,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:V["a"],VContainer:O["a"],VDataTable:Ee["a"],VDatePicker:$e["a"],VDialog:R["a"],VForm:S["a"],VIcon:D["a"],VMenu:re["a"],VSelect:M["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"]});var on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{staticClass:"text-center"},[n("h2",{staticClass:"display-2 font-weight-thin mb-4"},[e._v("Manage profil")])]),n("v-row",{attrs:{"no-gutters":"",justify:"center"}},[n("v-col",{staticClass:"edit",attrs:{cols:"12",md:"5"}},[n("v-card",{attrs:{height:"450"}},[n("v-toolbar",[n("v-toolbar-title",[e._v("Edit profil")])],1),n("v-form",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",md:"5"}},[n("v-text-field",{attrs:{"prepend-icon":"account_box",color:"teal darken-4",rules:e.nameRules,label:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("v-col",{attrs:{cols:"12",md:"5"}},[n("v-text-field",{attrs:{color:"teal darken-4",rules:e.telephoneRules,label:"Telephone","prepend-icon":"phone"},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-text-field",{attrs:{color:"teal darken-4",rules:e.emailRules,label:"Email","prepend-icon":"mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-text-field",{attrs:{color:"teal darken-4",label:"Adresse","prepend-icon":"place"},model:{value:e.adresse,callback:function(t){e.adresse=t},expression:"adresse"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-text-field",{attrs:{color:"teal darken-4",label:"City","prepend-icon":"home"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1)],1),n("div",{staticClass:"text-center"},[e.successPr?n("p",{style:{color:"green"},attrs:{color:"teal darken-4"}},[e._v(" "+e._s(e.isSuccessPr)+" ")]):e._e(),e.errorPr?n("p",{style:{color:"red"}},[e._v(" "+e._s(e.isErrorPr)+" ")]):e._e()]),n("v-card-actions",[n("v-col",{attrs:{align:"center"}},[n("v-btn",{staticClass:"white--text",attrs:{color:"teal darken-4"},on:{click:e.updateProfil}},[e._v("Update profil")])],1)],1)],1)],1)],1),n("v-col",{staticClass:"pass",attrs:{cols:"12",md:"5"}},[n("v-card",{attrs:{height:"450"}},[n("v-toolbar",{attrs:{color:"teal darken-4"}},[n("v-spacer"),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Edit password")])],1),n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",md:"5"}},[n("v-text-field",{attrs:{color:"teal darken-4","prepend-icon":"lock","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password",label:"Current password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}})],1),n("v-col",{attrs:{cols:"12",md:"5"}},[n("v-text-field",{attrs:{"prepend-icon":"lock",color:"teal darken-4","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password",label:"New password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.newPass,callback:function(t){e.newPass=t},expression:"newPass"}})],1),n("v-col",{attrs:{cols:"12",md:"10"}},[n("v-text-field",{attrs:{"prepend-icon":"lock",color:"teal darken-4","append-icon":e.showPass?"mdi-eye":"mdi-eye-off",type:e.showPass?"text":"password",label:"Confirm new password"},on:{"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.confPass,callback:function(t){e.confPass=t},expression:"confPass"}})],1)],1),n("div",{staticClass:"text-center"},[e.successPa?n("p",{style:{color:"green"},attrs:{color:"teal darken-4"}},[e._v(" "+e._s(e.isSuccessPa)+" ")]):e._e(),e.errorPa?n("p",{style:{color:"red"}},[e._v(" "+e._s(e.isErrorPa)+" ")]):e._e()]),n("v-card-actions",[n("v-col",{attrs:{align:"center"}},[n("v-btn",{staticClass:"white--text",attrs:{color:"teal darken-4"},on:{click:e.updatePass}},[e._v("Update password")])],1)],1)],1)],1)],1)],1)},cn=[],ln={data:function(){return{name:null,telephone:null,adresse:null,city:null,email:null,pass:null,newPass:null,confPass:null,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=3||"Min 3 characters"},emailMatch:function(){return"The email and password you entered don't match"}},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],nameRules:[function(e){return!!e||"Le nom est requis"},function(e){return isNaN(e)||"Names should not contain numbers"}],telephoneRules:[function(e){return!!e||"A phone number is required "},function(e){return e&&e.length<=8||"Phone number should contain 8 numbers max"},function(e){return!isNaN(e)||"The phone number should only contain numeric values"}],isSuccessPr:null,isErrorPr:null,isSuccessPa:null,isErrorPa:null,successPa:!1,errorPa:!1,successPr:!1,errorPr:!1,showPass:!1}},computed:{},watch:{},created:function(){},methods:Object(H["a"])(Object(H["a"])({updateProfil:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.name||null!==e.email||null!==e.telephone||null!==e.adresse||null!==e.city){t.next=6;break}e.errorPr=!0,e.isErrorPr="Nothing to update",setTimeout((function(){e.errorPr=!1,e.isErrorPr=null}),3e3),t.next=8;break;case 6:return t.next=8,I.a.put("/personel/:id",{id:JSON.parse(localStorage.getItem("userToken")).tokenUserId,name:e.name,email:e.email,telephone:e.telephone,adresse:e.adresse,city:e.city,flag:"updateProfil"}).then((function(t){200===t.status&&(e.successPr=!0,e.isSuccessPr=t.data,setTimeout((function(){e.successPr=!1,e.isSuccessPr=null,e.name=null,e.email=null,e.telephone=null,e.adresse=null,e.city=null}),3e3))})).catch((function(){e.errorPr=!0,setTimeout((function(){e.isErrorPr="There was a problem, please check later"}),3e3)}));case 8:case"end":return t.stop()}}),t)})))()},updatePass:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.pass&&e.newPass&&e.confPass)){t.next=11;break}if(e.newPass!==e.confPass){t.next=6;break}return t.next=4,I.a.put("/personel/:id",{id:JSON.parse(localStorage.getItem("userToken")).tokenUserId,pass:e.pass,newPass:e.newPass,confPass:e.confPass,flag:"updatePass"}).then((function(t){200===t.status&&(e.successPa=!0,e.isSuccessPa=t.data,setTimeout((function(){e.successPa=!1,e.isSuccessPa=null,e.pass=null,e.newPass=null,e.confPass=null}),3e3))})).catch((function(){e.errorPa=!0,e.isErrorPa="There was a problem. Please, try later",setTimeout((function(){e.error=!1,e.isErrorPa=null}),3e3)}));case 4:t.next=9;break;case 6:e.errorPa=!0,e.isErrorPa="The new password must be the same",setTimeout((function(){e.errorPa=!1,e.isErrorPa=null}),3e3);case 9:t.next=14;break;case 11:e.errorPa=!0,e.isErrorPa="All fields must be filled",setTimeout((function(){e.errorPa=!1,e.isErrorPa=null}),3e3);case 14:case"end":return t.stop()}}),t)})))()}},Object(z["d"])(["setPersonelInfo"])),Object(z["b"])(["editPersonel"]))},dn=ln,un=(n("c7c8"),Object(c["a"])(dn,on,cn,!1,null,null,null)),mn=un.exports;d()(un,{VBtn:P["a"],VCard:C["a"],VCardActions:T["a"],VCol:V["a"],VContainer:O["a"],VForm:S["a"],VRow:L["a"],VSpacer:se["a"],VTextField:N["a"],VToolbar:Fe["a"],VToolbarTitle:B["a"]}),a["a"].use(v["a"]);var pn=new v["a"]({mode:"history",routes:[{path:"/",name:"home",component:$},{path:"/admin",name:"admin",component:me,meta:{requiresAuth:!0},children:[{path:"adminDash",name:"adminDash",component:Ce},{path:"adminDoc",name:"adminDoc",component:Ye},{path:"adminNurse",name:"adminNurse",component:it},{path:"messages",name:"messages",component:bt},{path:"bookings",name:"bookings",component:yt},{path:"patientList",name:"patientList",component:Ot},{path:"bedAllotment",name:"bedAllotment",component:Yt},{path:"rapport",name:"rapport",component:Zt},{path:"profil",name:"profil",component:mn}]},{path:"/doctor",name:"doctor",component:De,meta:{requiresAuth:!0},children:[{path:"docDash",name:"docDash",component:Ft},{path:"bookings",name:"bookingsDoc",component:yt},{path:"patientList",name:"patientListDoc",component:Ot},{path:"messages",name:"messages",component:bt},{path:"bedAllotment",name:"bedAllotmentDoc",component:Yt},{path:"prescription",name:"prescription",component:sn},{path:"rapport",name:"rapportDoc",component:Zt},{path:"profil",name:"profilDoc",component:mn}]},{path:"/nurse",name:"nurse",component:Ze,meta:{requiresAuth:!0},children:[{path:"nurseDash",name:"nurseDash",component:Lt},{path:"bookings",name:"bookingsNur",component:yt},{path:"messages",name:"messages",component:bt},{path:"patientList",name:"patientListNur",component:Ot},{path:"bedAllotment",name:"bedAllotmentNur",component:Yt},{path:"rapport",name:"rapportNur",component:Zt},{path:"profil",name:"profilNur",component:mn}]}]});pn.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?localStorage.getItem("userToken")?t.path!==e.path&&n():n("/"):n()}));var fn=pn,hn={unreadMessages:null,doctorList:[],patientsList:[],timer:null,newMessages:null},vn={getDoctorList:function(e){return e.doctorList},getPatientsList:function(e){return e.patientsList},newMessages:function(e){return e.newMessages}},bn={logOut:function(){localStorage.clear(),I.a.defaults.headers.common["authorization"]=null,fn.replace("/")},setDoctorList:function(e,t){return e.doctorList=t},setPatientsList:function(e,t){return e.patientsList=t},setUnreadMessages:function(e,t){return e.newMessages=t},stopTimer:function(e){return clearInterval(e.timer)}},gn={docList:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,I.a.get("/personel",{params:{profil:"doctor",data:"doctorList"}}).then((function(e){200===e.status&&n("setDoctorList",e.data)})).catch((function(e){throw e}));case 3:case"end":return t.stop()}}),t)})))()},getUnread:function(e){var t=e.commit;hn.timer=setInterval(Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/messages",{params:{id:JSON.parse(localStorage.getItem("userToken")).tokenUserId,data:"unread"}}).then((function(e){t("setUnreadMessages",e.data)})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)}))),3e3)},notifyMessages:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,I.a.get("/messages",{params:{id:JSON.parse(localStorage.getItem("userToken")).tokenUserId,data:"unread"}}).then((function(e){n("setUnreadMessages",e.data)})).catch((function(e){throw e}));case 3:case"end":return t.stop()}}),t)})))()},loadPatients:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,I.a.get("/patient",{params:{data:t}}).then((function(e){200===e.status&&a("setPatientsList",e.data)})).catch((function(e){throw e}));case 3:case"end":return n.stop()}}),n)})))()}},kn={state:hn,getters:vn,mutations:bn,actions:gn};a["a"].use(z["a"]);var xn=new z["a"].Store({modules:{global:kn}});a["a"].use(fn),a["a"].use(f["a"]),a["a"].config.productionTip=!1,new a["a"]({router:fn,store:xn,vuetify:h,render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("7694"),r=n.n(a);r.a},7694:function(e,t,n){},"964e":function(e,t,n){"use strict";var a=n("c96e"),r=n.n(a);r.a},a723:function(e,t,n){},c6b1:function(e,t,n){},c77c:function(e,t,n){"use strict";var a=n("fe3d"),r=n.n(a);r.a},c7c8:function(e,t,n){"use strict";var a=n("a723"),r=n.n(a);r.a},c96e:function(e,t,n){},f7b4:function(e,t,n){"use strict";var a=n("2ae7"),r=n.n(a);r.a},fe3d:function(e,t,n){}});
//# sourceMappingURL=app.ffe0171d.js.map